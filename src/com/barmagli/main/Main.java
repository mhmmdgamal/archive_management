/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package com.barmagli.main;

import com.barmagli.helper.DatabaseHelper;
import com.barmagli.model.DatabaseFaxOperation;
import com.barmagli.model.Fax;
import com.barmagli.helper.Helper;
import com.barmagli.helper.MySQLDatabaseHelper;
import com.barmagli.helper.PrintHelper;
import com.barmagli.model.DatabaseFaxImageOperation;
import com.barmagli.model.DatabaseUserOperation;
import com.barmagli.model.FaxImage;
import com.barmagli.model.FaxPlace;
import com.barmagli.model.User;
import com.toedter.calendar.JDateChooser;
import java.awt.Color;
import java.awt.ComponentOrientation;
import java.awt.HeadlessException;
import java.awt.Image;
import java.awt.Toolkit;
import java.awt.Window;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.nio.file.Files;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.List;
import java.util.ListIterator;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.ImageIcon;
import javax.swing.JButton;
import javax.swing.JComponent;
import javax.swing.JFileChooser;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JTable;
import javax.swing.filechooser.FileNameExtensionFilter;
import javax.swing.table.DefaultTableModel;

/**
 *
 * @author MohamedGamal
 */
public class Main extends javax.swing.JFrame {

    /**
     * Creates new form Main
     *
     */
    public Main() {
        initComponents();
        centerComponentLocation(Main.this);
        centerComponentLocation(dg_about);
    }

    /**
     * center main frame in the main operating system window
     *
     * @throws HeadlessException
     */
    private void centerComponentLocation(Window window) throws HeadlessException {
        int screenWidth = (int) Toolkit.getDefaultToolkit().getScreenSize().getWidth();
        int screenHeight = (int) Toolkit.getDefaultToolkit().getScreenSize().getHeight();
        window.setLocation((screenWidth - window.getWidth()) / 2, (screenHeight - window.getHeight()) / 2);
    }

    /**
     * Display main panels on tab pane
     *
     */
    private void initTabPanels() {
//        pnl_fax.add(pnl_add_fax_out, new org.netbeans.lib.awtextra.AbsoluteConstraints(jTabbedPane1.getX(), jTabbedPane1.getY(), pnl_fax.getWidth(), pnl_fax.getHeight()));
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        btn_grp_send_recieve = new javax.swing.ButtonGroup();
        pnl_entry_data = new javax.swing.JPanel();
        pnl_add_actions = new javax.swing.JPanel();
        btn_save = new javax.swing.JButton();
        btn_clear = new javax.swing.JButton();
        btn_close = new javax.swing.JButton();
        pnl_date_add = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        jLabel2 = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        jLabel5 = new javax.swing.JLabel();
        jLabel6 = new javax.swing.JLabel();
        jScrollPane1 = new javax.swing.JScrollPane();
        txt_about = new javax.swing.JTextArea();
        txt_send_number = new javax.swing.JTextField();
        txt_saved_number = new javax.swing.JTextField();
        jLabel7 = new javax.swing.JLabel();
        txt_fax_refer = new javax.swing.JTextField();
        btn_choose_image = new javax.swing.JButton();
        rd_recieve = new javax.swing.JRadioButton();
        rd_send = new javax.swing.JRadioButton();
        jLabel8 = new javax.swing.JLabel();
        jScrollPane4 = new javax.swing.JScrollPane();
        txt_places = new javax.swing.JTextArea();
        btn_prev_add = new javax.swing.JButton();
        btn_next_add = new javax.swing.JButton();
        lbl_current_img_add = new javax.swing.JLabel();
        lbl_total_imgs_add = new javax.swing.JLabel();
        btn_remove_image = new javax.swing.JButton();
        btn_add_image = new javax.swing.JButton();
        jLabel20 = new javax.swing.JLabel();
        rd_signal_send = new javax.swing.JRadioButton();
        rd_signal_recieve = new javax.swing.JRadioButton();
        pop_mn_fax_show = new javax.swing.JPopupMenu();
        mn_itm_save_current_img = new javax.swing.JMenuItem();
        pop_mn_fax_mng = new javax.swing.JPopupMenu();
        mn_itm_edit_fax = new javax.swing.JMenuItem();
        mn_itm_delete_fax = new javax.swing.JMenuItem();
        pnl_user = new javax.swing.JPanel();
        pnl_data_user = new javax.swing.JPanel();
        jLabel30 = new javax.swing.JLabel();
        txt_user_username = new javax.swing.JTextField();
        jLabel32 = new javax.swing.JLabel();
        txt_user_password = new javax.swing.JTextField();
        jLabel33 = new javax.swing.JLabel();
        cmp_user_type = new javax.swing.JComboBox<>();
        btn_add_edit_user = new javax.swing.JButton();
        rd_edit_user = new javax.swing.JRadioButton();
        rd_add_user = new javax.swing.JRadioButton();
        pnl_var = new javax.swing.JPanel();
        pnl_tbl_users = new javax.swing.JPanel();
        jScrollPane6 = new javax.swing.JScrollPane();
        tbl_data_users = new javax.swing.JTable();
        btn_show_users = new javax.swing.JButton();
        pop_mn_usr_mng = new javax.swing.JPopupMenu();
        mn_itm_edit_usr = new javax.swing.JMenuItem();
        mn_itm_delete_usr = new javax.swing.JMenuItem();
        txt_user_id = new javax.swing.JTextField();
        btn_grp_add_edit_user = new javax.swing.ButtonGroup();
        txt_fax_id = new javax.swing.JTextField();
        dg_about = new javax.swing.JDialog();
        jPanel1 = new javax.swing.JPanel();
        jLabel23 = new javax.swing.JLabel();
        jScrollPane5 = new javax.swing.JScrollPane();
        jTextArea1 = new javax.swing.JTextArea();
        buttonGroup1 = new javax.swing.ButtonGroup();
        tab = new javax.swing.JTabbedPane();
        tab.applyComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);
        pnl_fax = new javax.swing.JPanel();
        pnl_data_actions = new javax.swing.JPanel();
        jLabel4 = new javax.swing.JLabel();
        btn_search_related = new javax.swing.JButton();
        txt_search = new javax.swing.JTextField();
        btn_show_add_pnl = new javax.swing.JButton();
        pnl_advanced_search = new javax.swing.JPanel();
        chk_search_in = new javax.swing.JCheckBox();
        txt_search_number = new javax.swing.JTextField();
        txt_search_saved_number = new javax.swing.JTextField();
        txt_search_place = new javax.swing.JTextField();
        txt_search_about = new javax.swing.JTextField();
        pnl_search_date = new javax.swing.JPanel();
        btn_advanced_search = new javax.swing.JButton();
        jLabel13 = new javax.swing.JLabel();
        jLabel15 = new javax.swing.JLabel();
        jLabel16 = new javax.swing.JLabel();
        jLabel17 = new javax.swing.JLabel();
        jLabel18 = new javax.swing.JLabel();
        jLabel19 = new javax.swing.JLabel();
        chk_search_signal = new javax.swing.JCheckBox();
        chk_search_fax = new javax.swing.JCheckBox();
        chk_search_out = new javax.swing.JCheckBox();
        chk_advanced_search = new javax.swing.JCheckBox();
        pnl_show_data = new javax.swing.JPanel();
        jLabel9 = new javax.swing.JLabel();
        jLabel10 = new javax.swing.JLabel();
        txt_show_send_number = new javax.swing.JTextField();
        txt_show_date = new javax.swing.JTextField();
        jLabel11 = new javax.swing.JLabel();
        jLabel12 = new javax.swing.JLabel();
        txt_show_saved_number = new javax.swing.JTextField();
        jLabel14 = new javax.swing.JLabel();
        jScrollPane3 = new javax.swing.JScrollPane();
        txt_show_about = new javax.swing.JTextArea();
        cmb_show_side = new javax.swing.JComboBox<>();
        txt_type = new javax.swing.JTextField();
        txt_state = new javax.swing.JTextField();
        jLabel21 = new javax.swing.JLabel();
        jLabel22 = new javax.swing.JLabel();
        pnl_variable = new javax.swing.JPanel();
        pnl_tbl = new javax.swing.JPanel();
        jScrollPane2 = new javax.swing.JScrollPane();
        tbl_data = new javax.swing.JTable();
        pnl_img = new javax.swing.JPanel();
        lbl_show_image = new javax.swing.JLabel();
        pnl_img_actions = new javax.swing.JPanel();
        btn_img_print = new javax.swing.JButton();
        btn_img_save_all = new javax.swing.JButton();
        lbl_total_imgs_show = new javax.swing.JLabel();
        lbl_current_img_show = new javax.swing.JLabel();
        btn_next_show = new javax.swing.JButton();
        btn_prev_show = new javax.swing.JButton();
        mn_bar_main = new javax.swing.JMenuBar();
        mn_settings = new javax.swing.JMenu();
        mn_itm_bkp = new javax.swing.JMenuItem();
        mn_itm_rst = new javax.swing.JMenuItem();
        jSeparator2 = new javax.swing.JPopupMenu.Separator();
        mn_sign_out = new javax.swing.JMenuItem();
        jMenu1 = new javax.swing.JMenu();
        jMenuItem1 = new javax.swing.JMenuItem();

        pnl_entry_data.setBackground(new java.awt.Color(102, 102, 102));
        pnl_entry_data.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(255, 255, 255)), "إدخال البيانات", javax.swing.border.TitledBorder.CENTER, javax.swing.border.TitledBorder.TOP, new java.awt.Font("Times New Roman", 1, 18), new java.awt.Color(255, 255, 255))); // NOI18N
        pnl_entry_data.setToolTipText("");

        pnl_add_actions.setBackground(new java.awt.Color(153, 153, 153));
        pnl_add_actions.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(141, 142, 144), 2));

        btn_save.setBackground(new java.awt.Color(0, 51, 204));
        btn_save.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        btn_save.setForeground(new java.awt.Color(255, 255, 255));
        btn_save.setText("تأكيد");
        btn_save.setCursor(new java.awt.Cursor(java.awt.Cursor.DEFAULT_CURSOR));
        btn_save.setName(""); // NOI18N
        btn_save.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_saveActionPerformed(evt);
            }
        });

        btn_clear.setBackground(new java.awt.Color(0, 51, 204));
        btn_clear.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        btn_clear.setForeground(new java.awt.Color(255, 255, 255));
        btn_clear.setText("تفريغ");
        btn_clear.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_clearActionPerformed(evt);
            }
        });

        btn_close.setBackground(new java.awt.Color(0, 51, 204));
        btn_close.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        btn_close.setForeground(new java.awt.Color(255, 255, 255));
        btn_close.setText("رجوع");
        btn_close.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_closeActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout pnl_add_actionsLayout = new javax.swing.GroupLayout(pnl_add_actions);
        pnl_add_actions.setLayout(pnl_add_actionsLayout);
        pnl_add_actionsLayout.setHorizontalGroup(
            pnl_add_actionsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnl_add_actionsLayout.createSequentialGroup()
                .addGap(0, 0, Short.MAX_VALUE)
                .addComponent(btn_close)
                .addGap(18, 18, 18)
                .addComponent(btn_clear)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(btn_save))
        );
        pnl_add_actionsLayout.setVerticalGroup(
            pnl_add_actionsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(btn_save, javax.swing.GroupLayout.DEFAULT_SIZE, 38, Short.MAX_VALUE)
            .addComponent(btn_clear, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addComponent(btn_close, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        pnl_date_add.setBackground(new java.awt.Color(193, 218, 255));
        pnl_date_add.setLayout(new java.awt.BorderLayout());

        jLabel1.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        jLabel1.setForeground(new java.awt.Color(255, 255, 255));
        jLabel1.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        jLabel1.setText("الشـــــــــأن :");

        jLabel2.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        jLabel2.setForeground(new java.awt.Color(255, 255, 255));
        jLabel2.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        jLabel2.setText("الجـــــهــــة :");

        jLabel3.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        jLabel3.setForeground(new java.awt.Color(255, 255, 255));
        jLabel3.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        jLabel3.setText("التــــاريـــــخ :");

        jLabel5.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        jLabel5.setForeground(new java.awt.Color(255, 255, 255));
        jLabel5.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        jLabel5.setText("رقـــم المكاتبة :");

        jLabel6.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        jLabel6.setForeground(new java.awt.Color(255, 255, 255));
        jLabel6.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        jLabel6.setText("مجلد الحفــــظ :");

        txt_about.setColumns(20);
        txt_about.setLineWrap(true);
        txt_about.setRows(2);
        jScrollPane1.applyComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);
        txt_about.applyComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);
        jScrollPane1.setViewportView(txt_about);

        txt_send_number.setHorizontalAlignment(javax.swing.JTextField.TRAILING);

        txt_saved_number.setHorizontalAlignment(javax.swing.JTextField.TRAILING);

        jLabel7.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        jLabel7.setForeground(new java.awt.Color(255, 255, 255));
        jLabel7.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        jLabel7.setText("الـكــتـــــــاب :");

        txt_fax_refer.setHorizontalAlignment(javax.swing.JTextField.TRAILING);

        btn_choose_image.setText("اختيار صورة");
        btn_choose_image.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(153, 153, 153), 2, true));
        btn_choose_image.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_choose_imageActionPerformed(evt);
            }
        });

        rd_recieve.setBackground(new java.awt.Color(255, 255, 255));
        btn_grp_send_recieve.add(rd_recieve);
        rd_recieve.setForeground(new java.awt.Color(255, 255, 255));
        rd_recieve.setText(" وارد");
        rd_recieve.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);

        rd_send.setBackground(new java.awt.Color(255, 255, 255));
        btn_grp_send_recieve.add(rd_send);
        rd_send.setForeground(new java.awt.Color(255, 255, 255));
        rd_send.setSelected(true);
        rd_send.setText(" صــادر");
        rd_send.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);

        jLabel8.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        jLabel8.setForeground(new java.awt.Color(255, 255, 255));
        jLabel8.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        jLabel8.setText("حالة المكاتبة :");

        txt_places.setColumns(20);
        txt_places.setLineWrap(true);
        txt_places.setRows(5);
        jScrollPane4.setViewportView(txt_places);
        jScrollPane4.applyComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);

        btn_prev_add.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        btn_prev_add.setText(">");
        btn_prev_add.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_prev_addActionPerformed(evt);
            }
        });

        btn_next_add.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        btn_next_add.setText("<");
        btn_next_add.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_next_addActionPerformed(evt);
            }
        });

        lbl_current_img_add.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        lbl_current_img_add.setForeground(new java.awt.Color(255, 255, 255));
        lbl_current_img_add.setText("current");

        lbl_total_imgs_add.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        lbl_total_imgs_add.setForeground(new java.awt.Color(255, 255, 255));
        lbl_total_imgs_add.setText("total");

        btn_remove_image.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        btn_remove_image.setText("حذف");
        btn_remove_image.setEnabled(false);
        btn_remove_image.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_remove_imageActionPerformed(evt);
            }
        });

        btn_add_image.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        btn_add_image.setText("إضافة");
        btn_add_image.setEnabled(false);
        btn_add_image.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_add_imageActionPerformed(evt);
            }
        });

        jLabel20.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        jLabel20.setForeground(new java.awt.Color(255, 255, 255));
        jLabel20.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        jLabel20.setText("نـــوع المكاتبة :");

        rd_signal_send.setBackground(new java.awt.Color(255, 255, 255));
        buttonGroup1.add(rd_signal_send);
        rd_signal_send.setForeground(new java.awt.Color(255, 255, 255));
        rd_signal_send.setSelected(true);
        rd_signal_send.setText("فاكس");
        rd_signal_send.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);

        rd_signal_recieve.setBackground(new java.awt.Color(255, 255, 255));
        buttonGroup1.add(rd_signal_recieve);
        rd_signal_recieve.setForeground(new java.awt.Color(255, 255, 255));
        rd_signal_recieve.setText("إشارة");
        rd_signal_recieve.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);

        javax.swing.GroupLayout pnl_entry_dataLayout = new javax.swing.GroupLayout(pnl_entry_data);
        pnl_entry_data.setLayout(pnl_entry_dataLayout);
        pnl_entry_dataLayout.setHorizontalGroup(
            pnl_entry_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(pnl_add_actions, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addGroup(pnl_entry_dataLayout.createSequentialGroup()
                .addGroup(pnl_entry_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnl_entry_dataLayout.createSequentialGroup()
                        .addComponent(btn_choose_image, javax.swing.GroupLayout.PREFERRED_SIZE, 250, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(7, 7, 7))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnl_entry_dataLayout.createSequentialGroup()
                        .addGroup(pnl_entry_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addGroup(pnl_entry_dataLayout.createSequentialGroup()
                                .addComponent(btn_add_image)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(btn_remove_image))
                            .addGroup(pnl_entry_dataLayout.createSequentialGroup()
                                .addComponent(btn_next_add)
                                .addGap(18, 18, 18)
                                .addComponent(lbl_total_imgs_add)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(lbl_current_img_add)
                                .addGap(18, 18, 18)
                                .addComponent(btn_prev_add)))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)))
                .addGroup(pnl_entry_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnl_entry_dataLayout.createSequentialGroup()
                        .addGap(0, 0, Short.MAX_VALUE)
                        .addComponent(pnl_date_add, javax.swing.GroupLayout.PREFERRED_SIZE, 152, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 80, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnl_entry_dataLayout.createSequentialGroup()
                        .addComponent(txt_saved_number)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jLabel6, javax.swing.GroupLayout.PREFERRED_SIZE, 80, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnl_entry_dataLayout.createSequentialGroup()
                        .addComponent(txt_send_number)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jLabel5, javax.swing.GroupLayout.PREFERRED_SIZE, 80, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnl_entry_dataLayout.createSequentialGroup()
                        .addComponent(jScrollPane4, javax.swing.GroupLayout.DEFAULT_SIZE, 327, Short.MAX_VALUE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, 74, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnl_entry_dataLayout.createSequentialGroup()
                        .addComponent(txt_fax_refer)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jLabel7, javax.swing.GroupLayout.PREFERRED_SIZE, 80, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnl_entry_dataLayout.createSequentialGroup()
                        .addGroup(pnl_entry_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(pnl_entry_dataLayout.createSequentialGroup()
                                .addGroup(pnl_entry_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addGroup(pnl_entry_dataLayout.createSequentialGroup()
                                        .addGap(0, 0, Short.MAX_VALUE)
                                        .addComponent(rd_recieve)
                                        .addGap(18, 18, 18)
                                        .addComponent(rd_send, javax.swing.GroupLayout.PREFERRED_SIZE, 55, javax.swing.GroupLayout.PREFERRED_SIZE))
                                    .addComponent(jScrollPane1))
                                .addGap(7, 7, 7))
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnl_entry_dataLayout.createSequentialGroup()
                                .addComponent(rd_signal_recieve)
                                .addGap(18, 18, 18)
                                .addComponent(rd_signal_send, javax.swing.GroupLayout.PREFERRED_SIZE, 55, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)))
                        .addGroup(pnl_entry_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(jLabel20, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jLabel8, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jLabel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
                .addContainerGap())
        );
        pnl_entry_dataLayout.setVerticalGroup(
            pnl_entry_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnl_entry_dataLayout.createSequentialGroup()
                .addGroup(pnl_entry_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(pnl_entry_dataLayout.createSequentialGroup()
                        .addComponent(btn_choose_image, javax.swing.GroupLayout.PREFERRED_SIZE, 280, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(pnl_entry_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(btn_prev_add)
                            .addComponent(btn_next_add)
                            .addComponent(lbl_current_img_add)
                            .addComponent(lbl_total_imgs_add))
                        .addGap(18, 18, 18)
                        .addGroup(pnl_entry_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(btn_remove_image)
                            .addComponent(btn_add_image)))
                    .addGroup(pnl_entry_dataLayout.createSequentialGroup()
                        .addGroup(pnl_entry_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 56, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel1))
                        .addGap(18, 18, 18)
                        .addGroup(pnl_entry_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(rd_signal_recieve)
                            .addComponent(jLabel20)
                            .addComponent(rd_signal_send))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(pnl_entry_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel8)
                            .addComponent(rd_send)
                            .addComponent(rd_recieve))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(pnl_entry_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel2)
                            .addComponent(jScrollPane4, javax.swing.GroupLayout.PREFERRED_SIZE, 88, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(11, 11, 11)
                        .addGroup(pnl_entry_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addGroup(pnl_entry_dataLayout.createSequentialGroup()
                                .addGap(3, 3, 3)
                                .addComponent(pnl_date_add, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                            .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(26, 26, 26)
                        .addGroup(pnl_entry_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel5, javax.swing.GroupLayout.PREFERRED_SIZE, 15, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(txt_send_number, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(pnl_entry_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel6)
                            .addComponent(txt_saved_number, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(pnl_entry_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel7, javax.swing.GroupLayout.PREFERRED_SIZE, 15, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(txt_fax_refer, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 40, Short.MAX_VALUE)
                .addComponent(pnl_add_actions, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
        );

        add_date = new JDateChooser(Helper.getCurrentDate());
        add_date.setBackground(new Color(102,102,102));
        add_date.applyComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);
        add_date.setDateFormatString("yyyy-MM-dd");
        add_date.setBackground(new Color(193, 218, 255));
        pnl_date_add.add(add_date, java.awt.BorderLayout.CENTER);
        add_date.setVisible(true);

        pnl_entry_data.setVisible(false);

        btn_prev_add.setEnabled(false);
        btn_next_add.setEnabled(false);

        lbl_current_img_add.setText("0");
        lbl_total_imgs_add.setText("0");

        mn_itm_save_current_img.setText("حفظ الصورة");
        mn_itm_save_current_img.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mn_itm_save_current_imgActionPerformed(evt);
            }
        });
        pop_mn_fax_show.add(mn_itm_save_current_img);

        mn_itm_edit_fax.setText("تعديل");
        mn_itm_edit_fax.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mn_itm_edit_faxActionPerformed(evt);
            }
        });
        pop_mn_fax_mng.add(mn_itm_edit_fax);

        mn_itm_delete_fax.setText("حذف");
        mn_itm_delete_fax.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mn_itm_delete_faxActionPerformed(evt);
            }
        });
        pop_mn_fax_mng.add(mn_itm_delete_fax);

        pnl_user.setBackground(new java.awt.Color(102, 102, 102));
        pnl_user.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        pnl_data_user.setBackground(new java.awt.Color(204, 204, 204));
        pnl_data_user.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(102, 102, 102), 1, true));
        pnl_data_user.setMaximumSize(new java.awt.Dimension(350, 520));

        jLabel30.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        jLabel30.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        jLabel30.setText("اسم المستخدم");
        jLabel30.setToolTipText("");

        txt_user_username.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        txt_user_username.setHorizontalAlignment(javax.swing.JTextField.TRAILING);

        jLabel32.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        jLabel32.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        jLabel32.setText("كلمة المرور");
        jLabel32.setToolTipText("");

        txt_user_password.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        txt_user_password.setHorizontalAlignment(javax.swing.JTextField.TRAILING);
        txt_user_password.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txt_user_passwordActionPerformed(evt);
            }
        });

        jLabel33.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        jLabel33.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        jLabel33.setText("النوع");
        jLabel33.setToolTipText("");

        cmp_user_type.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        cmp_user_type.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "مستخدم", "مسئول" }));

        btn_add_edit_user.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        btn_add_edit_user.setText("تأكيد");
        btn_add_edit_user.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_add_edit_userActionPerformed(evt);
            }
        });

        btn_grp_add_edit_user.add(rd_edit_user);
        rd_edit_user.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        rd_edit_user.setText("تعديل");

        btn_grp_add_edit_user.add(rd_add_user);
        rd_add_user.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        rd_add_user.setSelected(true);
        rd_add_user.setText("اضافة");

        javax.swing.GroupLayout pnl_data_userLayout = new javax.swing.GroupLayout(pnl_data_user);
        pnl_data_user.setLayout(pnl_data_userLayout);
        pnl_data_userLayout.setHorizontalGroup(
            pnl_data_userLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnl_data_userLayout.createSequentialGroup()
                .addGap(19, 19, 19)
                .addGroup(pnl_data_userLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(pnl_data_userLayout.createSequentialGroup()
                        .addGroup(pnl_data_userLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addGroup(pnl_data_userLayout.createSequentialGroup()
                                .addComponent(txt_user_username, javax.swing.GroupLayout.PREFERRED_SIZE, 206, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(jLabel30, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                            .addGroup(javax.swing.GroupLayout.Alignment.LEADING, pnl_data_userLayout.createSequentialGroup()
                                .addGroup(pnl_data_userLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(txt_user_password)
                                    .addGroup(pnl_data_userLayout.createSequentialGroup()
                                        .addGap(136, 136, 136)
                                        .addGroup(pnl_data_userLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                            .addComponent(rd_edit_user)
                                            .addComponent(cmp_user_type, 0, 70, Short.MAX_VALUE))))
                                .addGap(1, 1, 1)
                                .addGroup(pnl_data_userLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel32, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(jLabel33, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                            .addGroup(javax.swing.GroupLayout.Alignment.LEADING, pnl_data_userLayout.createSequentialGroup()
                                .addComponent(btn_add_edit_user)
                                .addGap(0, 0, Short.MAX_VALUE)))
                        .addGap(37, 37, 37))
                    .addGroup(pnl_data_userLayout.createSequentialGroup()
                        .addComponent(rd_add_user)
                        .addGap(53, 53, 53))))
        );
        pnl_data_userLayout.setVerticalGroup(
            pnl_data_userLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnl_data_userLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(pnl_data_userLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel30)
                    .addComponent(txt_user_username, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(pnl_data_userLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel32)
                    .addComponent(txt_user_password, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(pnl_data_userLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(cmp_user_type, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel33))
                .addGap(18, 18, 18)
                .addGroup(pnl_data_userLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(rd_edit_user)
                    .addComponent(rd_add_user))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(btn_add_edit_user, javax.swing.GroupLayout.PREFERRED_SIZE, 33, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(16, Short.MAX_VALUE))
        );

        rd_edit_user.applyComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);
        rd_add_user.applyComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);

        pnl_user.add(pnl_data_user, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 10, 320, 210));

        pnl_var.setBackground(new java.awt.Color(102, 102, 102));

        pnl_tbl_users.setBackground(new java.awt.Color(102, 102, 102));

        jScrollPane6.setBackground(new java.awt.Color(255, 255, 255));

        tbl_data_users.setBackground(new java.awt.Color(102, 102, 102));
        tbl_data_users.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        tbl_data_users.setForeground(new java.awt.Color(255, 255, 255));
        tbl_data_users.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "م", "اسم المستخدم", "كلمة المرور", "النوع"
            }
        ) {
            Class[] types = new Class [] {
                java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.String.class
            };
            boolean[] canEdit = new boolean [] {
                false, false, false, false
            };

            public Class getColumnClass(int columnIndex) {
                return types [columnIndex];
            }

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        tbl_data_users.setComponentPopupMenu(pop_mn_usr_mng);
        tbl_data_users.setCursor(new java.awt.Cursor(java.awt.Cursor.DEFAULT_CURSOR));
        tbl_data_users.setSelectionMode(javax.swing.ListSelectionModel.SINGLE_SELECTION);
        jScrollPane6.setViewportView(tbl_data_users);
        if (tbl_data_users.getColumnModel().getColumnCount() > 0) {
            tbl_data_users.getColumnModel().getColumn(0).setPreferredWidth(100);
            tbl_data_users.getColumnModel().getColumn(1).setPreferredWidth(250);
            tbl_data_users.getColumnModel().getColumn(2).setPreferredWidth(250);
            tbl_data_users.getColumnModel().getColumn(3).setPreferredWidth(100);
        }
        tbl_data_users.applyComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);

        javax.swing.GroupLayout pnl_tbl_usersLayout = new javax.swing.GroupLayout(pnl_tbl_users);
        pnl_tbl_users.setLayout(pnl_tbl_usersLayout);
        pnl_tbl_usersLayout.setHorizontalGroup(
            pnl_tbl_usersLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnl_tbl_usersLayout.createSequentialGroup()
                .addGap(0, 0, Short.MAX_VALUE)
                .addComponent(jScrollPane6, javax.swing.GroupLayout.PREFERRED_SIZE, 688, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );
        pnl_tbl_usersLayout.setVerticalGroup(
            pnl_tbl_usersLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnl_tbl_usersLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane6, javax.swing.GroupLayout.DEFAULT_SIZE, 508, Short.MAX_VALUE)
                .addContainerGap())
        );

        javax.swing.GroupLayout pnl_varLayout = new javax.swing.GroupLayout(pnl_var);
        pnl_var.setLayout(pnl_varLayout);
        pnl_varLayout.setHorizontalGroup(
            pnl_varLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnl_varLayout.createSequentialGroup()
                .addGap(0, 6, Short.MAX_VALUE)
                .addComponent(pnl_tbl_users, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 6, Short.MAX_VALUE))
        );
        pnl_varLayout.setVerticalGroup(
            pnl_varLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnl_varLayout.createSequentialGroup()
                .addGap(0, 0, Short.MAX_VALUE)
                .addComponent(pnl_tbl_users, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );

        pnl_user.add(pnl_var, new org.netbeans.lib.awtextra.AbsoluteConstraints(370, -1, 700, 530));

        btn_show_users.setBackground(new java.awt.Color(0, 51, 204));
        btn_show_users.setFont(new java.awt.Font("PT Bold Heading", 0, 14)); // NOI18N
        btn_show_users.setForeground(new java.awt.Color(255, 255, 255));
        btn_show_users.setText("كل المستخدمين");
        btn_show_users.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_show_usersActionPerformed(evt);
            }
        });
        pnl_user.add(btn_show_users, new org.netbeans.lib.awtextra.AbsoluteConstraints(920, 530, 140, 40));

        mn_itm_edit_usr.setText("تعديل");
        mn_itm_edit_usr.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mn_itm_edit_usrActionPerformed(evt);
            }
        });
        pop_mn_usr_mng.add(mn_itm_edit_usr);

        mn_itm_delete_usr.setText("حذف");
        mn_itm_delete_usr.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mn_itm_delete_usrActionPerformed(evt);
            }
        });
        pop_mn_usr_mng.add(mn_itm_delete_usr);

        txt_fax_id.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        dg_about.setMinimumSize(new java.awt.Dimension(432, 446));
        dg_about.setModal(true);
        dg_about.setResizable(false);

        jPanel1.setBackground(new java.awt.Color(102, 102, 102));
        jPanel1.setMinimumSize(new java.awt.Dimension(432, 374));

        jLabel23.setFont(new java.awt.Font("Times New Roman", 1, 24)); // NOI18N
        jLabel23.setForeground(new java.awt.Color(255, 255, 255));
        jLabel23.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel23.setText("الأرشيف الإلكتروني");

        jTextArea1.setEditable(false);
        jTextArea1.setBackground(new java.awt.Color(102, 102, 102));
        jTextArea1.setColumns(20);
        jTextArea1.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        jTextArea1.setForeground(new java.awt.Color(255, 255, 255));
        jTextArea1.setLineWrap(true);
        jTextArea1.setRows(5);
        jTextArea1.setText("برنامج الأرشيف الالكتروني هو برنامج مجاني وليس للاستخدام التجاري \nتم تصميمه خصيصا لفرع العمليات لحفظ الفاكسات والاشارات مع إمكانية البحث المتقدم\n\nتمت البرمجة تحت إشراف :\nعميد أ ح / محمد مصطفي رجب\nمقدم / أحمد عصام محمد\n\nتمت البرمجة والتطوير بواسطة : \nعريف / محمد جمال محمد\n\nتم التصميم بواسطة :\nعريف / عبد الرحمن حسين علي\nعريف / محمد حافظ شعراوي\n\nللتواصل مع المبرمج :\ngmail: mohamed.gamal987.mg@gmail.com\ntel: 01063929610\n01029168656");
        jTextArea1.setMinimumSize(new java.awt.Dimension(244, 372));
        jScrollPane5.setViewportView(jTextArea1);
        jTextArea1.applyComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addComponent(jScrollPane5, javax.swing.GroupLayout.PREFERRED_SIZE, 420, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel23, javax.swing.GroupLayout.PREFERRED_SIZE, 432, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(20, Short.MAX_VALUE))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel23, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(5, 5, 5)
                .addComponent(jScrollPane5, javax.swing.GroupLayout.DEFAULT_SIZE, 328, Short.MAX_VALUE)
                .addContainerGap())
        );

        javax.swing.GroupLayout dg_aboutLayout = new javax.swing.GroupLayout(dg_about.getContentPane());
        dg_about.getContentPane().setLayout(dg_aboutLayout);
        dg_aboutLayout.setHorizontalGroup(
            dg_aboutLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        dg_aboutLayout.setVerticalGroup(
            dg_aboutLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        dg_about.getAccessibleContext().setAccessibleDescription("");
        dg_about.getAccessibleContext().setAccessibleParent(this);

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setTitle("أرشيف العمليات");
        setBackground(new java.awt.Color(153, 153, 153));
        setIconImage(new ImageIcon("spyder.png").getImage());
        setResizable(false);

        tab.setBackground(new java.awt.Color(51, 102, 153));
        tab.setOpaque(true);

        pnl_fax.setBackground(new java.awt.Color(102, 102, 102));
        pnl_fax.setMinimumSize(new java.awt.Dimension(1070, 650));
        pnl_fax.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        pnl_data_actions.setBackground(new java.awt.Color(102, 102, 102));

        jLabel4.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        jLabel4.setForeground(new java.awt.Color(255, 255, 255));
        jLabel4.setText("بـحــث :");

        btn_search_related.setFont(new java.awt.Font("Times New Roman", 1, 16)); // NOI18N
        btn_search_related.setText("الكتب الملحقة");
        btn_search_related.setBorder(null);
        btn_search_related.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_search_relatedActionPerformed(evt);
            }
        });

        txt_search.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        txt_search.setHorizontalAlignment(javax.swing.JTextField.TRAILING);
        txt_search.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txt_searchKeyReleased(evt);
            }
        });

        btn_show_add_pnl.setBackground(new java.awt.Color(0, 51, 204));
        btn_show_add_pnl.setFont(new java.awt.Font("PT Bold Heading", 0, 14)); // NOI18N
        btn_show_add_pnl.setForeground(java.awt.Color.white);
        btn_show_add_pnl.setText("إضافة فاكس");
        btn_show_add_pnl.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_show_add_pnlActionPerformed(evt);
            }
        });

        pnl_advanced_search.setBackground(new java.awt.Color(102, 102, 102));
        pnl_advanced_search.setForeground(new java.awt.Color(255, 255, 255));

        chk_search_in.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        chk_search_in.setForeground(new java.awt.Color(255, 255, 255));
        chk_search_in.setText("وارد");
        chk_search_in.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseReleased(java.awt.event.MouseEvent evt) {
                chk_search_inMouseReleased(evt);
            }
        });

        txt_search_number.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        txt_search_number.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        txt_search_saved_number.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        txt_search_saved_number.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        txt_search_place.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        txt_search_place.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txt_search_place.setToolTipText("");
        txt_search_place.setName(""); // NOI18N

        txt_search_about.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        txt_search_about.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        pnl_search_date.setBackground(new java.awt.Color(102, 102, 102));
        pnl_search_date.setLayout(new java.awt.BorderLayout());

        search_from = new JDateChooser();
        search_to = new JDateChooser();
        search_from.setBackground(new Color(102,102,102));
        search_to.setBackground(new Color(102,102,102));
        search_from.setDateFormatString("yyyy-MM-dd");
        search_to.setDateFormatString("yyyy-MM-dd");
        pnl_search_date.add(search_from, java.awt.BorderLayout.NORTH);
        pnl_search_date.add(search_to, java.awt.BorderLayout.SOUTH);

        btn_advanced_search.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        btn_advanced_search.setText("بحث");
        btn_advanced_search.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_advanced_searchActionPerformed(evt);
            }
        });

        jLabel13.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        jLabel13.setForeground(new java.awt.Color(255, 255, 255));
        jLabel13.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel13.setText("الجهة");

        jLabel15.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        jLabel15.setForeground(new java.awt.Color(255, 255, 255));
        jLabel15.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel15.setText("الشأن");

        jLabel16.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        jLabel16.setForeground(new java.awt.Color(255, 255, 255));
        jLabel16.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel16.setText("الرقم");

        jLabel17.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        jLabel17.setForeground(new java.awt.Color(255, 255, 255));
        jLabel17.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel17.setText("حفظ");

        jLabel18.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        jLabel18.setForeground(new java.awt.Color(255, 255, 255));
        jLabel18.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel18.setText("إلي");

        jLabel19.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        jLabel19.setForeground(new java.awt.Color(255, 255, 255));
        jLabel19.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel19.setText("من");

        chk_search_signal.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        chk_search_signal.setForeground(new java.awt.Color(255, 255, 255));
        chk_search_signal.setText("إشارة");
        chk_search_signal.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseReleased(java.awt.event.MouseEvent evt) {
                chk_search_signalMouseReleased(evt);
            }
        });

        chk_search_fax.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        chk_search_fax.setForeground(new java.awt.Color(255, 255, 255));
        chk_search_fax.setText("فاكس");
        chk_search_fax.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseReleased(java.awt.event.MouseEvent evt) {
                chk_search_faxMouseReleased(evt);
            }
        });

        chk_search_out.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        chk_search_out.setForeground(new java.awt.Color(255, 255, 255));
        chk_search_out.setText("صادر");
        chk_search_out.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseReleased(java.awt.event.MouseEvent evt) {
                chk_search_outMouseReleased(evt);
            }
        });

        javax.swing.GroupLayout pnl_advanced_searchLayout = new javax.swing.GroupLayout(pnl_advanced_search);
        pnl_advanced_search.setLayout(pnl_advanced_searchLayout);
        pnl_advanced_searchLayout.setHorizontalGroup(
            pnl_advanced_searchLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnl_advanced_searchLayout.createSequentialGroup()
                .addGap(14, 14, 14)
                .addGroup(pnl_advanced_searchLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(btn_advanced_search, javax.swing.GroupLayout.PREFERRED_SIZE, 85, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(pnl_advanced_searchLayout.createSequentialGroup()
                        .addGroup(pnl_advanced_searchLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(chk_search_in)
                            .addComponent(chk_search_signal))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(pnl_advanced_searchLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(chk_search_out)
                            .addComponent(chk_search_fax, javax.swing.GroupLayout.Alignment.TRAILING))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(pnl_search_date, javax.swing.GroupLayout.PREFERRED_SIZE, 137, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(pnl_advanced_searchLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(pnl_advanced_searchLayout.createSequentialGroup()
                                .addComponent(jLabel19)
                                .addGap(27, 27, 27)
                                .addComponent(txt_search_place)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jLabel13)
                                .addGap(28, 28, 28)
                                .addComponent(txt_search_number, javax.swing.GroupLayout.PREFERRED_SIZE, 98, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jLabel16))
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnl_advanced_searchLayout.createSequentialGroup()
                                .addComponent(jLabel18)
                                .addGap(27, 27, 27)
                                .addComponent(txt_search_about)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jLabel15)
                                .addGap(28, 28, 28)
                                .addComponent(txt_search_saved_number, javax.swing.GroupLayout.PREFERRED_SIZE, 98, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jLabel17)))))
                .addContainerGap())
        );
        pnl_advanced_searchLayout.setVerticalGroup(
            pnl_advanced_searchLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnl_advanced_searchLayout.createSequentialGroup()
                .addGroup(pnl_advanced_searchLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(pnl_advanced_searchLayout.createSequentialGroup()
                        .addGroup(pnl_advanced_searchLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(pnl_advanced_searchLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(txt_search_number, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(txt_search_place, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(jLabel13)
                                .addComponent(jLabel16))
                            .addComponent(jLabel19))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGroup(pnl_advanced_searchLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(pnl_advanced_searchLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(txt_search_saved_number, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(txt_search_about, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(jLabel15)
                                .addComponent(jLabel17))
                            .addGroup(pnl_advanced_searchLayout.createSequentialGroup()
                                .addGap(6, 6, 6)
                                .addComponent(jLabel18))))
                    .addGroup(pnl_advanced_searchLayout.createSequentialGroup()
                        .addGroup(pnl_advanced_searchLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(pnl_search_date, javax.swing.GroupLayout.PREFERRED_SIZE, 68, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(pnl_advanced_searchLayout.createSequentialGroup()
                                .addContainerGap()
                                .addGroup(pnl_advanced_searchLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(chk_search_in)
                                    .addComponent(chk_search_out))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addGroup(pnl_advanced_searchLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(chk_search_signal)
                                    .addComponent(chk_search_fax))
                                .addGap(7, 7, 7)))
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addComponent(btn_advanced_search, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGap(20, 20, 20))
        );

        chk_advanced_search.setBackground(new java.awt.Color(204, 204, 204));
        chk_advanced_search.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        chk_advanced_search.setForeground(new java.awt.Color(255, 255, 255));
        chk_advanced_search.setText("بحث متقدم");
        chk_advanced_search.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseReleased(java.awt.event.MouseEvent evt) {
                chk_advanced_searchMouseReleased(evt);
            }
        });

        javax.swing.GroupLayout pnl_data_actionsLayout = new javax.swing.GroupLayout(pnl_data_actions);
        pnl_data_actions.setLayout(pnl_data_actionsLayout);
        pnl_data_actionsLayout.setHorizontalGroup(
            pnl_data_actionsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnl_data_actionsLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(pnl_data_actionsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(pnl_data_actionsLayout.createSequentialGroup()
                        .addComponent(btn_search_related, javax.swing.GroupLayout.DEFAULT_SIZE, 160, Short.MAX_VALUE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(chk_advanced_search)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(txt_search, javax.swing.GroupLayout.PREFERRED_SIZE, 253, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(jLabel4)
                        .addGap(29, 29, 29)
                        .addComponent(btn_show_add_pnl))
                    .addComponent(pnl_advanced_search, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
        );
        pnl_data_actionsLayout.setVerticalGroup(
            pnl_data_actionsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnl_data_actionsLayout.createSequentialGroup()
                .addGroup(pnl_data_actionsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btn_show_add_pnl, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel4, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txt_search, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btn_search_related, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(chk_advanced_search))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(pnl_advanced_search, javax.swing.GroupLayout.PREFERRED_SIZE, 104, Short.MAX_VALUE))
        );

        pnl_advanced_search.setVisible(false);

        pnl_fax.add(pnl_data_actions, new org.netbeans.lib.awtextra.AbsoluteConstraints(370, 520, 690, 150));

        pnl_show_data.setBackground(new java.awt.Color(102, 102, 102));
        pnl_show_data.setMaximumSize(new java.awt.Dimension(350, 520));

        jLabel9.setForeground(new java.awt.Color(255, 255, 255));
        jLabel9.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel9.setText("الجهة :");
        jLabel9.setToolTipText("");

        jLabel10.setForeground(new java.awt.Color(255, 255, 255));
        jLabel10.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        jLabel10.setText("رقم المكاتبة :");
        jLabel10.setToolTipText("");

        txt_show_send_number.setEditable(false);
        txt_show_send_number.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        txt_show_send_number.setHorizontalAlignment(javax.swing.JTextField.TRAILING);

        txt_show_date.setEditable(false);
        txt_show_date.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        txt_show_date.setHorizontalAlignment(javax.swing.JTextField.TRAILING);

        jLabel11.setForeground(new java.awt.Color(255, 255, 255));
        jLabel11.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        jLabel11.setText("التاريخ :");
        jLabel11.setToolTipText("");

        jLabel12.setForeground(new java.awt.Color(255, 255, 255));
        jLabel12.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        jLabel12.setText("مجلد الحفظ :");
        jLabel12.setToolTipText("");

        txt_show_saved_number.setEditable(false);
        txt_show_saved_number.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        txt_show_saved_number.setHorizontalAlignment(javax.swing.JTextField.TRAILING);

        jLabel14.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel14.setForeground(new java.awt.Color(255, 255, 255));
        jLabel14.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        jLabel14.setText("الشأن :");
        jLabel14.setToolTipText("");

        txt_show_about.setEditable(false);
        txt_show_about.setColumns(20);
        txt_show_about.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        txt_show_about.setLineWrap(true);
        txt_show_about.setRows(1);
        jScrollPane3.applyComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);
        txt_show_about.applyComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);
        jScrollPane3.setViewportView(txt_show_about);

        cmb_show_side.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        cmb_show_side.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "جهة 1", "جهة 2", "جهة 3" }));

        txt_type.setEditable(false);
        txt_type.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        txt_type.setHorizontalAlignment(javax.swing.JTextField.TRAILING);

        txt_state.setEditable(false);
        txt_state.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        txt_state.setHorizontalAlignment(javax.swing.JTextField.TRAILING);

        jLabel21.setForeground(new java.awt.Color(255, 255, 255));
        jLabel21.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        jLabel21.setText("النوع :");
        jLabel21.setToolTipText("");

        jLabel22.setForeground(new java.awt.Color(255, 255, 255));
        jLabel22.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        jLabel22.setText("الحــــــالــة : ");
        jLabel22.setToolTipText("");

        javax.swing.GroupLayout pnl_show_dataLayout = new javax.swing.GroupLayout(pnl_show_data);
        pnl_show_data.setLayout(pnl_show_dataLayout);
        pnl_show_dataLayout.setHorizontalGroup(
            pnl_show_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnl_show_dataLayout.createSequentialGroup()
                .addGap(10, 10, 10)
                .addGroup(pnl_show_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(pnl_show_dataLayout.createSequentialGroup()
                        .addComponent(jScrollPane3, javax.swing.GroupLayout.DEFAULT_SIZE, 298, Short.MAX_VALUE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jLabel14)
                        .addGap(2, 2, 2))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnl_show_dataLayout.createSequentialGroup()
                        .addGroup(pnl_show_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(pnl_show_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                .addGroup(pnl_show_dataLayout.createSequentialGroup()
                                    .addComponent(txt_show_saved_number, javax.swing.GroupLayout.PREFERRED_SIZE, 80, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                    .addComponent(jLabel12))
                                .addGroup(pnl_show_dataLayout.createSequentialGroup()
                                    .addComponent(txt_show_send_number)
                                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                    .addComponent(jLabel10)))
                            .addGroup(pnl_show_dataLayout.createSequentialGroup()
                                .addComponent(txt_state, javax.swing.GroupLayout.PREFERRED_SIZE, 80, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jLabel22)))
                        .addGap(15, 15, 15)
                        .addGroup(pnl_show_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(cmb_show_side, 0, 134, Short.MAX_VALUE)
                            .addComponent(txt_show_date)
                            .addComponent(txt_type))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(pnl_show_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnl_show_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(jLabel11)
                                .addComponent(jLabel9))
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnl_show_dataLayout.createSequentialGroup()
                                .addComponent(jLabel21, javax.swing.GroupLayout.PREFERRED_SIZE, 36, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addContainerGap())))))
        );
        pnl_show_dataLayout.setVerticalGroup(
            pnl_show_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnl_show_dataLayout.createSequentialGroup()
                .addGroup(pnl_show_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(pnl_show_dataLayout.createSequentialGroup()
                        .addGap(48, 48, 48)
                        .addComponent(jLabel14))
                    .addGroup(pnl_show_dataLayout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 116, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(pnl_show_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel9)
                    .addComponent(txt_show_send_number, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel10)
                    .addComponent(cmb_show_side, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(pnl_show_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel11)
                    .addComponent(txt_show_date, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel12)
                    .addComponent(txt_show_saved_number, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGroup(pnl_show_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(pnl_show_dataLayout.createSequentialGroup()
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(pnl_show_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(txt_state, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(pnl_show_dataLayout.createSequentialGroup()
                                .addGroup(pnl_show_dataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(txt_type, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel22))
                                .addGap(1, 1, 1))))
                    .addGroup(pnl_show_dataLayout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addComponent(jLabel21, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(15, Short.MAX_VALUE))
        );

        cmb_show_side.applyComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);

        pnl_fax.add(pnl_show_data, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 10, 340, 240));
        pnl_show_data.setVisible(false);

        pnl_variable.setBackground(new java.awt.Color(102, 102, 102));

        pnl_tbl.setBackground(new java.awt.Color(102, 102, 118));

        jScrollPane2.setBackground(new java.awt.Color(102, 255, 51));

        tbl_data.setBackground(new java.awt.Color(102, 102, 102));
        tbl_data.setFont(new java.awt.Font("Times New Roman", 1, 18)); // NOI18N
        tbl_data.setForeground(new java.awt.Color(255, 255, 255));
        tbl_data.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "م", "الشأن", "الجهة", "النوع", "الرقم", "الكتاب", "الحالة"
            }
        ) {
            Class[] types = new Class [] {
                java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.String.class
            };
            boolean[] canEdit = new boolean [] {
                false, false, false, false, false, false, false
            };

            public Class getColumnClass(int columnIndex) {
                return types [columnIndex];
            }

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        tbl_data.setSelectionMode(javax.swing.ListSelectionModel.SINGLE_SELECTION);
        tbl_data.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tbl_dataMouseClicked(evt);
            }
        });
        jScrollPane2.setViewportView(tbl_data);
        if (tbl_data.getColumnModel().getColumnCount() > 0) {
            tbl_data.getColumnModel().getColumn(0).setPreferredWidth(50);
            tbl_data.getColumnModel().getColumn(1).setPreferredWidth(250);
            tbl_data.getColumnModel().getColumn(2).setPreferredWidth(150);
        }
        tbl_data.applyComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);

        if (DatabaseUserOperation.currentUser.getIsAdmin()) {
            tbl_data.setComponentPopupMenu(pop_mn_fax_mng);
        }

        javax.swing.GroupLayout pnl_tblLayout = new javax.swing.GroupLayout(pnl_tbl);
        pnl_tbl.setLayout(pnl_tblLayout);
        pnl_tblLayout.setHorizontalGroup(
            pnl_tblLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnl_tblLayout.createSequentialGroup()
                .addGap(0, 0, Short.MAX_VALUE)
                .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 688, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );
        pnl_tblLayout.setVerticalGroup(
            pnl_tblLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnl_tblLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane2, javax.swing.GroupLayout.DEFAULT_SIZE, 508, Short.MAX_VALUE)
                .addContainerGap())
        );

        javax.swing.GroupLayout pnl_variableLayout = new javax.swing.GroupLayout(pnl_variable);
        pnl_variable.setLayout(pnl_variableLayout);
        pnl_variableLayout.setHorizontalGroup(
            pnl_variableLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnl_variableLayout.createSequentialGroup()
                .addGap(0, 6, Short.MAX_VALUE)
                .addComponent(pnl_tbl, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 6, Short.MAX_VALUE))
        );
        pnl_variableLayout.setVerticalGroup(
            pnl_variableLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnl_variableLayout.createSequentialGroup()
                .addGap(0, 0, Short.MAX_VALUE)
                .addComponent(pnl_tbl, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );

        pnl_fax.add(pnl_variable, new org.netbeans.lib.awtextra.AbsoluteConstraints(370, -1, 700, 530));

        pnl_img.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(51, 102, 153), 3));
        pnl_img.setLayout(new java.awt.BorderLayout());

        lbl_show_image.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        lbl_show_image.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lbl_show_image.setToolTipText("");
        lbl_show_image.setComponentPopupMenu(pop_mn_fax_show);
        pnl_img.add(lbl_show_image, java.awt.BorderLayout.PAGE_END);

        pnl_fax.add(pnl_img, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 250, 340, 380));
        pnl_img.applyComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);
        pnl_img.setVisible(false);

        pnl_img_actions.setBackground(new java.awt.Color(102, 102, 102));

        btn_img_print.setBackground(new java.awt.Color(0, 51, 204));
        btn_img_print.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        btn_img_print.setForeground(new java.awt.Color(255, 255, 255));
        btn_img_print.setText("طباعة");
        btn_img_print.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_img_printActionPerformed(evt);
            }
        });

        btn_img_save_all.setBackground(new java.awt.Color(0, 51, 204));
        btn_img_save_all.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        btn_img_save_all.setForeground(new java.awt.Color(255, 255, 255));
        btn_img_save_all.setText("حفظ الكل");
        btn_img_save_all.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_img_save_allActionPerformed(evt);
            }
        });

        lbl_total_imgs_show.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        lbl_total_imgs_show.setText("0");

        lbl_current_img_show.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        lbl_current_img_show.setText("0");

        btn_next_show.setText("<");
        btn_next_show.setMargin(new java.awt.Insets(2, 2, 2, 2));
        btn_next_show.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_next_showActionPerformed(evt);
            }
        });

        btn_prev_show.setText(">");
        btn_prev_show.setMargin(new java.awt.Insets(2, 2, 2, 2));
        btn_prev_show.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_prev_showActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout pnl_img_actionsLayout = new javax.swing.GroupLayout(pnl_img_actions);
        pnl_img_actions.setLayout(pnl_img_actionsLayout);
        pnl_img_actionsLayout.setHorizontalGroup(
            pnl_img_actionsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnl_img_actionsLayout.createSequentialGroup()
                .addComponent(btn_img_save_all)
                .addGap(18, 18, 18)
                .addComponent(btn_next_show, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(lbl_total_imgs_show, javax.swing.GroupLayout.PREFERRED_SIZE, 17, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(7, 7, 7)
                .addComponent(lbl_current_img_show, javax.swing.GroupLayout.PREFERRED_SIZE, 15, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(btn_prev_show, javax.swing.GroupLayout.PREFERRED_SIZE, 39, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(btn_img_print, javax.swing.GroupLayout.PREFERRED_SIZE, 73, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18))
        );
        pnl_img_actionsLayout.setVerticalGroup(
            pnl_img_actionsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnl_img_actionsLayout.createSequentialGroup()
                .addGroup(pnl_img_actionsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btn_img_print, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btn_img_save_all, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btn_next_show)
                    .addComponent(btn_prev_show, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(lbl_total_imgs_show)
                    .addComponent(lbl_current_img_show))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        pnl_fax.add(pnl_img_actions, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 630, 340, 40));
        pnl_img_actions.setVisible(false);

        tab.addTab("الفاكسات", pnl_fax);
        pnl_fax.add(pnl_entry_data, new org.netbeans.lib.awtextra.AbsoluteConstraints(370, -1, 700, 530));

        btn_prev_show.setEnabled(false);
        btn_next_show.setEnabled(false);

        lbl_current_img_show.setText("0");
        lbl_total_imgs_show.setText("0");

        mn_bar_main.setBackground(new java.awt.Color(255, 255, 255));

        mn_settings.setBackground(new java.awt.Color(255, 255, 255));
        mn_settings.setText("الإعدادات");
        mn_settings.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        mn_settings.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        mn_settings.setHorizontalTextPosition(javax.swing.SwingConstants.LEADING);

        mn_itm_bkp.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        mn_itm_bkp.setText("انشاء نسخة إحتياطية");
        mn_itm_bkp.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mn_itm_bkpActionPerformed(evt);
            }
        });
        mn_settings.add(mn_itm_bkp);
        if(!DatabaseUserOperation.currentUser.getIsAdmin()) {
            mn_itm_bkp.setVisible(false);
        }

        mn_itm_rst.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        mn_itm_rst.setText("استعادة نسخة إحتياطية");
        mn_itm_rst.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mn_itm_rstActionPerformed(evt);
            }
        });
        mn_settings.add(mn_itm_rst);
        if(!DatabaseUserOperation.currentUser.getIsAdmin()) {
            mn_itm_rst.setVisible(false);
        }
        mn_settings.add(jSeparator2);
        if(!DatabaseUserOperation.currentUser.getIsAdmin()) {
            jSeparator2.setVisible(false);
        }

        mn_sign_out.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        mn_sign_out.setText("تسجيل الخروج");
        mn_sign_out.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mn_sign_outActionPerformed(evt);
            }
        });
        mn_settings.add(mn_sign_out);

        mn_bar_main.add(mn_settings);

        jMenu1.setText("المساعدة");
        jMenu1.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N

        jMenuItem1.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        jMenuItem1.setText("عن البرنامج");
        jMenuItem1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jMenuItem1ActionPerformed(evt);
            }
        });
        jMenu1.add(jMenuItem1);

        mn_bar_main.add(jMenu1);

        setJMenuBar(mn_bar_main);
        mn_bar_main.applyComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(0, 0, Short.MAX_VALUE)
                .addComponent(tab, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(tab, javax.swing.GroupLayout.DEFAULT_SIZE, 702, Short.MAX_VALUE)
        );

        if(DatabaseUserOperation.currentUser.getIsAdmin()) {
            tab.add("المستخدمين", pnl_user);
        }

        pack();
    }// </editor-fold>//GEN-END:initComponents

    /**
     * set searched data to table with rank on type words
     *
     * @param evt
     */
    private void txt_searchKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_searchKeyReleased
        // get searched value
        String searchedValue = this.txt_search.getText();
        // validate value
        if (searchedValue != null && !searchedValue.isEmpty()) {
            // get faxes by about with ranks
            List<Fax> searchResults = DatabaseFaxOperation.getFaxesByAboutWithRankTakeLessMemory(searchedValue);
            // fill table with data results
            addFaxDataToTable(searchResults);
        } else {
            // clear table if field is empty
            this.getTableModel(tbl_data).setRowCount(0);
        }
    }//GEN-LAST:event_txt_searchKeyReleased

    /**
     * fill table with faxes related to other
     *
     * @param evt
     */
    private void btn_search_relatedActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_search_relatedActionPerformed
        // get selected row
        int selectedRow = tbl_data.getSelectedRow();
        if (selectedRow != -1) {
            // get send number from row selected
            String sendNumber = (String) tbl_data.getValueAt(selectedRow, 4);
            // get related faxes with send number
            List<Fax> relatedFaxes = DatabaseFaxOperation.getRelatedFaxes(Integer.parseInt(sendNumber));
            // fill table with data
            addFaxDataToTable(relatedFaxes);
        } else {
            // show error if no row selected
            showMessage("من فضلك اختر فاكس");
        }
    }//GEN-LAST:event_btn_search_relatedActionPerformed

    /**
     * show details about selected row fax
     *
     * @param evt
     */
    private void tbl_dataMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tbl_dataMouseClicked
        // get selected row
        int selectedRow = tbl_data.getSelectedRow();

        // get fax by send number
        if (selectedRow != -1) {

            Fax fax = DatabaseFaxOperation.getFaxBySendNumber(Integer.parseInt(tbl_data.getValueAt(selectedRow, 4) + ""));

            fillDetailsFieldsWithData(fax);

            fillImageBoxWithImages(fax);

            showDetailsPnls(true);
        }
    }//GEN-LAST:event_tbl_dataMouseClicked

    public void showDetailsPnls(boolean show) {
        pnl_show_data.setVisible(show);
        pnl_img.setVisible(show);
        pnl_img_actions.setVisible(show);
    }

    private void fillImageBoxWithImages(Fax fax) {
        List<FaxImage> faxImages = fax.getFaxImages();
        selectedFiles = new File[faxImages.size()];
        for (int i = 0; i < faxImages.size(); i++) {
            selectedFiles[i] = new File(faxImages.get(i).getImagePath());
        }
        lbl_current_img_show.setText(1 + "");
        lbl_total_imgs_show.setText(selectedFiles.length + "");
        btn_prev_add.setEnabled(false);
        if (selectedFiles.length == 1) {
            btn_next_show.setEnabled(false);
        } else {
            btn_next_show.setEnabled(true);
        }
        try {
            this.currentImagePath = selectedFiles[0].getAbsolutePath();
            byte[] imageBytes = Files.readAllBytes(selectedFiles[0].toPath());
            lbl_show_image.setIcon(resizeImage(imageBytes, 340, 370));
        } catch (FileNotFoundException ex) {
            System.out.println(ex);
        } catch (IOException ex) {
            System.out.println(ex);
        }
    }

    private void fillDetailsFieldsWithData(Fax fax) {
        txt_show_send_number.setText(fax.getSendNumber() + "");
        txt_show_about.setText(fax.getAbout());
        txt_show_saved_number.setText(fax.getSavedNumber());
        txt_show_date.setText(fax.getDate() + "");
        txt_type.setText(fax.getType() ? "فاكس" : "إشارة");
        txt_state.setText(fax.getState() ? "صادر" : "وارد");

        List<FaxPlace> faxPlaces = fax.getFaxPlaces();
        String[] placesNames = new String[faxPlaces.size()];

        for (int i = 0; i < faxPlaces.size(); i++) {
            placesNames[i] = faxPlaces.get(i).getName();
        }

        cmb_show_side.setModel(new javax.swing.DefaultComboBoxModel(placesNames));
    }

    private void btn_show_add_pnlActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_show_add_pnlActionPerformed
        pnl_variable.setVisible(false);
        pnl_data_actions.setVisible(false);
        pnl_show_data.setVisible(false);
        pnl_img.setVisible(false);
        pnl_img_actions.setVisible(false);
        pnl_entry_data.setVisible(true);
    }//GEN-LAST:event_btn_show_add_pnlActionPerformed

    private void mn_sign_outActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_mn_sign_outActionPerformed
        DatabaseUserOperation.updateUserIsAutoLogin(false, DatabaseUserOperation.currentUser);
        System.exit(0);
    }//GEN-LAST:event_mn_sign_outActionPerformed

    private void showPrevImage(JComponent c, JButton next, JButton prev, JLabel current, JLabel total, int width, int height) throws NumberFormatException {
        if (c instanceof JLabel) {
            JLabel btn_show_image = (JLabel) c;
            try {
                this.currentImagePath = selectedFiles[(Integer.parseInt(current.getText()) - 2)].getAbsolutePath();
                btn_show_image.setIcon(resizeImage(Files.readAllBytes(selectedFiles[(Integer.parseInt(current.getText()) - 2)].toPath()), width, height));
            } catch (IOException ex) {
                System.out.println(ex);
            }
        } else if (c instanceof JButton) {
            JButton btn_show_image = (JButton) c;
            try {
                btn_show_image.setIcon(resizeImage(Files.readAllBytes(selectedFiles[(Integer.parseInt(current.getText()) - 2)].toPath()), width, height));
            } catch (IOException ex) {
                System.out.println(ex);
            }
        }

        current.setText((Integer.parseInt(current.getText()) - 1) + "");
        if (Integer.parseInt(current.getText()) < Integer.parseInt(total.getText())) {
            next.setEnabled(true);
        }
        if (Integer.parseInt(current.getText()) == 1) {
            prev.setEnabled(false);
        }
    }

    private void btn_next_showActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_next_showActionPerformed
        showNextImage(lbl_show_image, btn_next_show, btn_prev_show, lbl_current_img_show, lbl_total_imgs_show, 340, 370);
    }//GEN-LAST:event_btn_next_showActionPerformed

    private void btn_prev_showActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_prev_showActionPerformed
        showPrevImage(lbl_show_image, btn_next_show, btn_prev_show, lbl_current_img_show, lbl_total_imgs_show, 340, 370);
    }//GEN-LAST:event_btn_prev_showActionPerformed

    private void btn_next_addActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_next_addActionPerformed
        showNextImage(btn_choose_image, btn_next_add, btn_prev_add, lbl_current_img_add, lbl_total_imgs_add, 260, 280);
    }//GEN-LAST:event_btn_next_addActionPerformed

    private void btn_prev_addActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_prev_addActionPerformed
        showPrevImage(btn_choose_image, btn_next_add, btn_prev_add, lbl_current_img_add, lbl_total_imgs_add, 260, 280);
    }//GEN-LAST:event_btn_prev_addActionPerformed

    private void btn_choose_imageActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_choose_imageActionPerformed
        JFileChooser file = getImagePath();

        if (file != null) {
            try {
                selectedFiles = file.getSelectedFiles();
                lbl_current_img_add.setText(1 + "");
                lbl_total_imgs_add.setText(selectedFiles.length + "");
                btn_prev_add.setEnabled(false);
                if (selectedFiles.length == 1) {
                    btn_next_add.setEnabled(false);
                } else {
                    btn_next_add.setEnabled(true);
                }
                currentImagePath = selectedFiles[0].getAbsolutePath();
                btn_choose_image.setIcon(resizeImage(Files.readAllBytes(selectedFiles[0].toPath()), 260, 280));
                btn_add_image.setEnabled(true);
                btn_remove_image.setEnabled(true);
            } catch (IOException ex) {
                ex.printStackTrace();
            }
        }
    }//GEN-LAST:event_btn_choose_imageActionPerformed

    private void btn_closeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_closeActionPerformed
        // TODO add your handling code here:
        pnl_variable.setVisible(true);
        pnl_data_actions.setVisible(true);
        pnl_entry_data.setVisible(false);
        defaultEntryDataFields();
        btn_choose_image.setIcon(null);
        lbl_current_img_add.setText("0");
        lbl_total_imgs_add.setText("0");
        txt_search.setText("");
    }//GEN-LAST:event_btn_closeActionPerformed

    private void btn_clearActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_clearActionPerformed
        int result = JOptionPane.showConfirmDialog(this, "هل تريد مسح البيانات؟", "تحذير", JOptionPane.YES_NO_OPTION, JOptionPane.WARNING_MESSAGE);
        if (result == JOptionPane.YES_OPTION) {
            this.defaultEntryDataFields();
        }
    }//GEN-LAST:event_btn_clearActionPerformed

    private void btn_saveActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_saveActionPerformed
        this.insertFax();
    }//GEN-LAST:event_btn_saveActionPerformed

    private void btn_img_printActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_img_printActionPerformed
        PrintHelper.printJob(this, selectedFiles, Integer.parseInt(lbl_current_img_show.getText()), Integer.parseInt(lbl_total_imgs_show.getText()));
    }//GEN-LAST:event_btn_img_printActionPerformed

    private void btn_img_save_allActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_img_save_allActionPerformed
        JFileChooser file = new JFileChooser();
        file.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);
        int approveSave = file.showSaveDialog(this);
        if (approveSave == JFileChooser.APPROVE_OPTION) {
            for (File selectedFile : selectedFiles) {
                String imageParent = new File(selectedFile.getAbsolutePath()).toPath().getParent().getFileName().toString();
                String fileToSave = file.getSelectedFile().toString() + "\\" + imageParent + "\\" + new File(selectedFile.getAbsolutePath()).getName();
                try {
                    if (!Files.exists(new File(fileToSave).getParentFile().toPath())) {
                        Files.createDirectories(new File(file.getSelectedFile().toString() + "\\" + imageParent + "\\").toPath());
                    }

                    Files.deleteIfExists(new File(fileToSave).toPath());
                    Files.copy(new File(selectedFile.getAbsolutePath()).toPath(), new File(fileToSave).toPath());
                } catch (IOException ex) {
                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);
                }
            }
        }
    }//GEN-LAST:event_btn_img_save_allActionPerformed

    private void btn_advanced_searchActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_advanced_searchActionPerformed
        SimpleDateFormat f = new SimpleDateFormat("yyyy-MM-dd");
        List<Integer> ids = new ArrayList();
        List<Fax> results = new ArrayList();
        MySQLDatabaseHelper database = DatabaseFaxOperation.db.select("`fax`.`id`, `fax`.`about`").table("`fax`");
        String message = "";
        boolean isThereAtLeastOneValueToSearch = false;

        String about = txt_search_about.getText();
        String number = txt_search_number.getText();
        String saved = txt_search_saved_number.getText();
        String place = txt_search_place.getText();
        java.util.Date from = search_from.getDate();
        java.util.Date to = search_to.getDate();

        if (chk_search_in.isSelected()) {
            isThereAtLeastOneValueToSearch = true;
            database.where("`fax`.`state`=?", false);
        } else if (chk_search_out.isSelected()) {
            isThereAtLeastOneValueToSearch = true;
            database.where("`fax`.`state`=?", true);
        }

        if (chk_search_signal.isSelected()) {
            isThereAtLeastOneValueToSearch = true;
            database.where("`fax`.`type`=?", false);
        } else if (chk_search_fax.isSelected()) {
            isThereAtLeastOneValueToSearch = true;
            database.where("`fax`.`type`=?", true);
        }

        if (!number.isEmpty()) {
            if (!Helper.isNumber(number)) {
                message += "رقم الصادر يجب أن يكون قيمة رقمية";
            } else {
                isThereAtLeastOneValueToSearch = true;
                database.where("`fax`.`send_number`=?", Integer.parseInt(number));
            }
        }

        if (!saved.isEmpty()) {
            isThereAtLeastOneValueToSearch = true;
            database.where("`fax`.`saved_number`=?", saved);
        }

        if (search_from.getDate() != null) {
            isThereAtLeastOneValueToSearch = true;
            if (search_to.getDate() != null) {
                database.where("`fax`.`date` BETWEEN ? AND ?", f.format(from), f.format(to));
            } else {
                database.where("`fax`.`date` BETWEEN ? AND ?", f.format(from), f.format(from));
            }
        }

        if (!place.isEmpty()) {
            isThereAtLeastOneValueToSearch = true;
            database.table("`fax`, `fax_place`").where("`fax_place`.`name`=? AND `fax`.`id`=`fax_place`.`fax_id`", place);
        }

        if (!isThereAtLeastOneValueToSearch) {
            message += "املأ أحد الحقول للبحث";
            JOptionPane.showMessageDialog(this, message, "تنبيه", JOptionPane.INFORMATION_MESSAGE);
        } else {
            try {
                ResultSet rs = database.fetchData();

                while (rs.next()) {
                    ids.add(rs.getInt("id"));
                }
                for (Integer id : ids) {
                    results.add(DatabaseFaxOperation.FAX_DAO.getById(id));
                }
                if (about.isEmpty()) {
                    addFaxDataToTable(results);
                } else {
                    addFaxDataToTable(DatabaseFaxOperation.getFaxesByAboutWithRankTakeLargeMemory(about, results));
                }
            } catch (SQLException ex) {
                Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);
            }
        }
    }//GEN-LAST:event_btn_advanced_searchActionPerformed

    private void chk_search_outMouseReleased(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_chk_search_outMouseReleased
        chk_search_in.setSelected(false);
    }//GEN-LAST:event_chk_search_outMouseReleased

    private void chk_search_inMouseReleased(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_chk_search_inMouseReleased
        chk_search_out.setSelected(false);
    }//GEN-LAST:event_chk_search_inMouseReleased

    private void chk_advanced_searchMouseReleased(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_chk_advanced_searchMouseReleased
        pnl_advanced_search.setVisible(chk_advanced_search.isSelected());
        txt_search.setEnabled(!chk_advanced_search.isSelected());
    }//GEN-LAST:event_chk_advanced_searchMouseReleased

    private void mn_itm_edit_faxActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_mn_itm_edit_faxActionPerformed
        // TODO add your handling code here:
        int selectedRow = tbl_data.getSelectedRow();
        if (selectedRow != -1) {
            Fax fax = DatabaseFaxOperation.getFaxBySendNumber(Integer.parseInt(tbl_data.getValueAt(selectedRow, 4) + ""));
            pnl_variable.setVisible(false);
            pnl_data_actions.setVisible(false);
            pnl_img_actions.setVisible(false);
            pnl_show_data.setVisible(false);
            pnl_img.setVisible(false);
            pnl_entry_data.setVisible(true);

            // fill fax data to edit
            txt_about.setText(fax.getAbout());
            txt_saved_number.setText(fax.getSavedNumber());
            txt_send_number.setText(fax.getSendNumber() + "");
            txt_fax_id.setText(fax.getId() + "");
            if (fax.getState()) {
                rd_send.setSelected(true);
            } else {
                rd_recieve.setSelected(true);
            }
            txt_fax_refer.setText(DatabaseFaxOperation.getFaxById(fax.getFaxRef()).getSendNumber() + "");
//            txt_fax_refer.setText(fax.getFaxRef() + "");
            add_date.setDate(fax.getDate());
            for (FaxPlace faxPlace : fax.getFaxPlaces()) {
                txt_places.setText(txt_places.getText() + faxPlace.getName() + "\n");
            }

            List<FaxImage> faxImages = fax.getFaxImages();
            selectedFiles = new File[faxImages.size()];
            for (int i = 0; i < faxImages.size(); i++) {
                selectedFiles[i] = new File(faxImages.get(i).getImagePath());
            }
            try {
                lbl_current_img_add.setText(1 + "");
                lbl_total_imgs_add.setText(selectedFiles.length + "");
                btn_prev_add.setEnabled(false);
                if (selectedFiles.length == 1) {
                    btn_next_add.setEnabled(false);
                } else {
                    btn_next_add.setEnabled(true);
                }
                currentImagePath = selectedFiles[0].getAbsolutePath();
                btn_choose_image.setIcon(resizeImage(Files.readAllBytes(selectedFiles[0].toPath()), 260, 280));
            } catch (IOException ex) {
                ex.printStackTrace();
            }

        } else {
            showMessage("إختر عنصر للتعديل");
        }
    }//GEN-LAST:event_mn_itm_edit_faxActionPerformed

    private void mn_itm_delete_faxActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_mn_itm_delete_faxActionPerformed
        // TODO add your handling code here:
        int selectedRow = tbl_data.getSelectedRow();
        if (selectedRow != -1) {
            int result = JOptionPane.showConfirmDialog(this, "هل تريد حذف الفاكس؟", "تحذير", JOptionPane.YES_NO_OPTION, JOptionPane.WARNING_MESSAGE);
            if (result == JOptionPane.YES_OPTION) {
                Fax fax = DatabaseFaxOperation.getFaxBySendNumber(Integer.parseInt(tbl_data.getValueAt(selectedRow, 4) + ""));
                boolean deleted = DatabaseFaxOperation.deleteFax(fax.getId());
                if (deleted) {
                    List<File> images = DatabaseFaxImageOperation.getFaxImagePaths(fax.getId());

                    File parentPath = images.get(0).getAbsoluteFile().toPath().getParent().toFile();
                    for (File image : images) {
                        image.delete();
                    }
                    boolean delete = parentPath.delete();
                    System.out.println(parentPath + " : " + delete);

                    DatabaseFaxImageOperation.deleteFaxImage(fax.getId());
                    pnl_show_data.setVisible(false);
                    pnl_img_actions.setVisible(false);
                    pnl_img.setVisible(false);
                    this.getTableModel(tbl_data).removeRow(selectedRow);
                    showMessage("تم الحذف بنجاح");
                } else {
                    showMessage("لم تنجح عملية الحذف حاول مرة أخري");
                }
            }
        } else {
            showMessage("إختر عنصر للحذف");
        }
    }//GEN-LAST:event_mn_itm_delete_faxActionPerformed

    private void btn_add_edit_userActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_add_edit_userActionPerformed
//        int id = (txt_user_id.getText().isEmpty()) ? 0 : Integer.parseInt(txt_user_id.getText());

        User user = new User();

        user.setUsername(txt_user_username.getText());
        user.setPassword(txt_user_password.getText());
        user.setIsAdmin(cmp_user_type.getSelectedIndex() == 1);

        if (!user.getUsername().isEmpty() && !user.getPassword().isEmpty()) {
            User u = DatabaseUserOperation.getByUsername(user.getUsername());
            if (u.getId() > 0 && rd_add_user.isSelected()) {
                showMessage("هذا المستخدم موجود بالفعل");
            } else {
                if (rd_edit_user.isSelected()) {
                    DatabaseUserOperation.updateUser(user, u.getId());
                    showMessage("تم تعديل المستخدم");
                } else {
                    // add
                    DatabaseUserOperation.addUser(user);
                    showMessage("تم اضافة المتسخدم");
                }
                resetUserData();
                btn_show_usersActionPerformed(null);
            }
        } else {
            showMessage("ادخل جميع البيانات");
        }
    }//GEN-LAST:event_btn_add_edit_userActionPerformed

    private void resetUserData() {
        txt_user_id.setText("0");
        txt_user_username.setText("");
        txt_user_password.setText("");
        cmp_user_type.setSelectedIndex(0);
        rd_add_user.setSelected(true);
    }

    private void btn_show_usersActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_show_usersActionPerformed
        List<User> searchResults = DatabaseUserOperation.getAllUsers();
        // fill table with data results
        addUserDataToTable(searchResults);

    }//GEN-LAST:event_btn_show_usersActionPerformed

    private void txt_user_passwordActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txt_user_passwordActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txt_user_passwordActionPerformed

    private void mn_itm_save_current_imgActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_mn_itm_save_current_imgActionPerformed
        JFileChooser file = new JFileChooser();
        file.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);
        int approveSave = file.showSaveDialog(this);
        if (approveSave == JFileChooser.APPROVE_OPTION) {
            String imageParent = new File(this.currentImagePath).toPath().getParent().getFileName().toString();
            String fileToSave = file.getSelectedFile().toString() + "\\" + imageParent + "\\" + new File(this.currentImagePath).getName();
            try {
                if (!Files.exists(new File(fileToSave).getParentFile().toPath())) {
                    Files.createDirectories(new File(file.getSelectedFile().toString() + "\\" + imageParent + "\\").toPath());
                }
                Files.deleteIfExists(new File(fileToSave).toPath());
                Files.copy(new File(this.currentImagePath).toPath(), new File(fileToSave).toPath());
            } catch (IOException ex) {
                Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);
            }
        }
    }//GEN-LAST:event_mn_itm_save_current_imgActionPerformed

    private void mn_itm_edit_usrActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_mn_itm_edit_usrActionPerformed
        // get selected row
        // get fax by send number
        int selectedRow = tbl_data_users.getSelectedRow();
        if (selectedRow != -1) {

            User user = DatabaseUserOperation.getByUsername(tbl_data_users.getValueAt(selectedRow, 1) + "");
            txt_user_id.setText(user.getId() + "");
            txt_user_username.setText(user.getUsername());
            txt_user_password.setText(user.getPassword());
            cmp_user_type.setSelectedIndex((user.getIsAdmin()) ? 1 : 0);
            rd_edit_user.setSelected(true);
        } else {
            showMessage("إختر عنصر للتعديل");
        }
    }//GEN-LAST:event_mn_itm_edit_usrActionPerformed

    private void mn_itm_delete_usrActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_mn_itm_delete_usrActionPerformed
        int selectedRow = tbl_data_users.getSelectedRow();

        if (selectedRow != -1) {

            String username = tbl_data_users.getValueAt(selectedRow, 1) + "";

            int result = JOptionPane.showConfirmDialog(this, "هل تريد حذف المستخدم" + username, "تحذير", JOptionPane.YES_NO_OPTION, JOptionPane.WARNING_MESSAGE);
            if (result == JOptionPane.YES_OPTION) {
                DatabaseUserOperation.deleteByUsername(tbl_data_users.getValueAt(selectedRow, 1) + "");
                showMessage(String.format("تم حذف '%s' بنجاح", username));
                btn_show_usersActionPerformed(null);
            }
        } else {
            showMessage("إختر عنصر للحذف");
        }
    }//GEN-LAST:event_mn_itm_delete_usrActionPerformed

    private void mn_itm_bkpActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_mn_itm_bkpActionPerformed
        // TODO add your handling code here:
        DatabaseHelper.BackupDatabaseToSQL();
    }//GEN-LAST:event_mn_itm_bkpActionPerformed

    private void mn_itm_rstActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_mn_itm_rstActionPerformed
        // TODO add your handling code here:
        DatabaseHelper.restoreDatabaseFromSQL(true);
    }//GEN-LAST:event_mn_itm_rstActionPerformed

    private void btn_remove_imageActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_remove_imageActionPerformed
        try {

            if (Integer.parseInt(lbl_total_imgs_add.getText()) == 1) {
                lbl_current_img_add.setText("0");
                lbl_total_imgs_add.setText("0");
                btn_choose_image.setIcon(null);
                btn_prev_add.setEnabled(false);
                btn_next_add.setEnabled(false);
                btn_remove_image.setEnabled(false);
                btn_add_image.setEnabled(false);
            } else {

                File[] tempSelectedFiles = new File[selectedFiles.length - 1];
                int currentIndex = Integer.parseInt(lbl_current_img_add.getText()) - 1;

                for (int i = 0; i < currentIndex; i++) {
                    tempSelectedFiles[i] = selectedFiles[i];
                }

                for (int i = currentIndex; i < tempSelectedFiles.length; i++) {
                    tempSelectedFiles[i] = selectedFiles[i + 1];
                }

                selectedFiles = tempSelectedFiles;

                lbl_current_img_add.setText("1");
                lbl_total_imgs_add.setText(selectedFiles.length + "");
                btn_prev_add.setEnabled(false);
                if (selectedFiles.length == 1) {
                    btn_next_add.setEnabled(false);
                } else {
                    btn_next_add.setEnabled(true);
                }
                currentImagePath = selectedFiles[0].getAbsolutePath();
                btn_choose_image.setIcon(resizeImage(Files.readAllBytes(selectedFiles[0].toPath()), 260, 280));
            }
        } catch (IOException ex) {
            System.out.println(ex);
        }

    }//GEN-LAST:event_btn_remove_imageActionPerformed

    private void btn_add_imageActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_add_imageActionPerformed
        // TODO add your handling code here:

        JFileChooser file = getImagePath();
        if (file != null) {
            try {

                File[] newSelectedFiles = file.getSelectedFiles();
                int length = selectedFiles.length + newSelectedFiles.length;
                File[] tempSelectedFiles = new File[length];

                int lastIndex = 0;
                for (int i = 0; i < selectedFiles.length; i++) {
                    tempSelectedFiles[i] = selectedFiles[i];
                    lastIndex = i + 1;
                }

                for (int i = 0; i < newSelectedFiles.length; i++) {
                    tempSelectedFiles[lastIndex] = newSelectedFiles[i];
                    ++lastIndex;
                }
                selectedFiles = tempSelectedFiles;

                lbl_current_img_add.setText(1 + "");
                lbl_total_imgs_add.setText(selectedFiles.length + "");
                btn_prev_add.setEnabled(false);
                if (selectedFiles.length == 1) {
                    btn_next_add.setEnabled(false);
                } else {
                    btn_next_add.setEnabled(true);
                }
                currentImagePath = selectedFiles[0].getAbsolutePath();
                btn_choose_image.setIcon(resizeImage(Files.readAllBytes(selectedFiles[0].toPath()), 260, 280));
            } catch (IOException ex) {
                ex.printStackTrace();
            }
        }

    }//GEN-LAST:event_btn_add_imageActionPerformed

    private void jMenuItem1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jMenuItem1ActionPerformed
        dg_about.setVisible(true);
    }//GEN-LAST:event_jMenuItem1ActionPerformed

    private void chk_search_faxMouseReleased(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_chk_search_faxMouseReleased
        // TODO add your handling code here:
        chk_search_signal.setSelected(false);
    }//GEN-LAST:event_chk_search_faxMouseReleased

    private void chk_search_signalMouseReleased(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_chk_search_signalMouseReleased
        // TODO add your handling code here:
        chk_search_fax.setSelected(false);
    }//GEN-LAST:event_chk_search_signalMouseReleased

    public void showNextImage(JComponent c, JButton next, JButton prev, JLabel current, JLabel total, int width, int height) throws NumberFormatException {
        if (c instanceof JLabel) {
            JLabel cmp_show_image = (JLabel) c;
            try {
                this.currentImagePath = selectedFiles[Integer.parseInt(current.getText())].getAbsolutePath();
                cmp_show_image.setIcon(resizeImage(Files.readAllBytes(selectedFiles[Integer.parseInt(current.getText())].toPath()), width, height));
            } catch (IOException ex) {
                System.out.println(ex);
            }
        } else if (c instanceof JButton) {
            JButton cmp_show_image = (JButton) c;
            try {
                cmp_show_image.setIcon(resizeImage(Files.readAllBytes(selectedFiles[Integer.parseInt(current.getText())].toPath()), width, height));
            } catch (IOException ex) {
                System.out.println(ex);
            }

        }

        current.setText((Integer.parseInt(current.getText()) + 1) + "");
        if (Integer.parseInt(current.getText()) == Integer.parseInt(total.getText())) {
            next.setEnabled(false);
            prev.setEnabled(true);
        }
        if (Integer.parseInt(current.getText()) > 1) {
            prev.setEnabled(true);
        }
    }

    private ImageIcon resizeImage(byte[] pic, int width, int height) {
        ImageIcon myImage = new ImageIcon(pic);

        Image tempImage = myImage.getImage().getScaledInstance(width, height, Image.SCALE_SMOOTH);

        return new ImageIcon(tempImage);
    }

    private JFileChooser getImagePath() {
        JFileChooser file = new JFileChooser();
        file.setMultiSelectionEnabled(true);
        file.setCurrentDirectory(new File(System.getProperty("user.home")));

        FileNameExtensionFilter filter = new FileNameExtensionFilter("Select a .JPG .PNG .GIF image", "jpg", "png", "gif");
        file.setFileFilter(filter);

        int result = file.showOpenDialog(this);

        if (result == JFileChooser.APPROVE_OPTION) {
            return file;
        }
        return null;
    }

    private void addFaxDataToTable(List<Fax> list) {
        this.getTableModel(tbl_data).setRowCount(0);
        int count = 0;
        ListIterator listIterator = list.listIterator();
        while (listIterator.hasNext()) {
            count += 1;
            Fax fax = (Fax) listIterator.next();
            fax.setId(count);
            this.getTableModel(tbl_data).addRow(fax.formateToTable());
        }
    }

    private void addUserDataToTable(List<User> list) {
        this.getTableModel(tbl_data_users).setRowCount(0);
        int count = 0;
        ListIterator listIterator = list.listIterator();
        while (listIterator.hasNext()) {
            count += 1;
            User user = (User) listIterator.next();
            user.setId(count);
            this.getTableModel(tbl_data_users).addRow(user.formateToTable());
        }
    }

    /**
     * get model from table
     *
     * @param table
     * @return tableModel
     */
    private DefaultTableModel getTableModel(JTable table) {
        DefaultTableModel tableModel = (DefaultTableModel) table.getModel();
        return tableModel;
    }

    private Fax insertFax() {
        String about = txt_about.getText();
        String savedNumber = txt_saved_number.getText();
        String sendNumber = this.txt_send_number.getText();
        String faxRef = this.txt_fax_refer.getText();
        String imagePath = this.currentImagePath;
        boolean state = rd_send.isSelected();
        boolean type = rd_signal_send.isSelected();
        List<FaxPlace> faxPlaces = new ArrayList();
        String[] tempPlaces = txt_places.getText().split("\\n");
        System.out.println(tempPlaces.length);
        StringBuilder errorMessages = validateAddFaxEntryData(about, tempPlaces, savedNumber, sendNumber, faxRef, imagePath);

        if (errorMessages.length() != 0) {
            errorMessages.insert(0, "من فضلك أدخل القيم الأتية بصورة صحيحة :\n\n");
            showMessage(errorMessages.toString());
            return null;
        }

        for (String tempPlace : tempPlaces) {
            if (!tempPlace.equals("")) {
                faxPlaces.add(new FaxPlace(tempPlace));
            }
        }

        SimpleDateFormat f = new SimpleDateFormat("yyyy-MM-dd");
        String date = f.format(add_date.getDate());

        int sendNumberValue = Integer.parseInt(sendNumber);
        int faxRefValue = Integer.parseInt(faxRef);

        int faxId = DatabaseFaxOperation.getFaxBySendNumber(faxRefValue).getId();

        if (faxId == 0) {
            faxRefValue = 0;
        } else {
            faxRefValue = faxId;
        }

        List<FaxImage> faxImages = new ArrayList();
        for (File selectedFile : selectedFiles) {
            faxImages.add(new FaxImage(selectedFile.getAbsolutePath()));
        }

        Fax fax = fillFaxWithAddedData(about, date, sendNumberValue, savedNumber, faxRefValue, state, type, faxPlaces, faxImages);

        boolean inserted = DatabaseFaxOperation.addFax(fax);

        if (inserted) {
            String buildMainFolderPath = buildMainFolderPath(mainDataFolder, date, sendNumber);

            this.saveImages(faxImages, buildMainFolderPath);

            if (!txt_fax_id.getText().isEmpty()) {
                Fax f1 = DatabaseFaxOperation.getFaxById(Integer.parseInt(txt_fax_id.getText()));
                DatabaseFaxOperation.deleteFax(f1.getId());

                List<File> images = DatabaseFaxImageOperation.getFaxImagePaths(f1.getId());
                File parentPath = images.get(0).getAbsoluteFile().toPath().getParent().toFile();
                for (File image : images) {
                    image.delete();
                }
                boolean delete = parentPath.delete();
                System.out.println(parentPath + " : " + delete);

                DatabaseFaxImageOperation.deleteFaxImage(f1.getId());
            }
        }
        showMessage("تمت العملية بنجاح");
        defaultEntryDataFields();
        txt_search.setEnabled(true);
        btn_choose_image.setIcon(null);
        lbl_current_img_add.setText("0");
        lbl_total_imgs_add.setText("0");
        setMainToDefault();
        return fax;
    }

    private void setMainToDefault() {
        this.getTableModel(tbl_data).setRowCount(0);
        pnl_show_data.setVisible(false);
        pnl_img_actions.setVisible(false);
        pnl_advanced_search.setVisible(false);
        chk_advanced_search.setSelected(false);
        pnl_img.setVisible(false);
    }

    private String buildMainFolderPath(String mainFolder, String date, String sendNumber) {
        String[] splitDate = Helper.splitDate(date);
        return mainFolder + splitDate[0] + "\\" + splitDate[1] + "\\" + splitDate[2] + "\\" + DatabaseFaxOperation.FAX_DAO.lastFaxAddedId + sendNumber + "\\";
    }

    private void saveImages(List<FaxImage> faxImages, String mainFolder) {
        boolean exists = Files.exists(new File(mainFolder).toPath());
        FileOutputStream fos = null;
        try {
            if (!exists) {
                Files.createDirectories(new File(mainFolder).toPath());
            }
            for (int i = 0; i < faxImages.size(); i++) {
                Files.deleteIfExists(new File(mainFolder + i + ".jpg").toPath());
                fos = new FileOutputStream(mainFolder + i + ".jpg");
                Files.copy(new File(faxImages.get(i).getImagePath()).toPath(), fos);
                faxImages.get(i).setImagePath(mainFolder + i + ".jpg");
                DatabaseFaxImageOperation.addFaxImage(faxImages.get(i), DatabaseFaxOperation.FAX_DAO.lastFaxAddedId);
            }
        } catch (FileNotFoundException ex) {
            System.out.println(ex);
        } catch (IOException ex) {
            System.out.println(ex);
        } finally {
            try {
                fos.close();
            } catch (IOException ex) {
                System.out.println(ex);
            }
        }
    }

    private Fax fillFaxWithAddedData(String about, String date, int sendNumberValue, String savedNumber, int faxRefValue, boolean state, boolean type, List<FaxPlace> faxPlaces, List<FaxImage> faxImages) {
        Fax fax = new Fax();

        fax.setAbout(about);
        fax.setDate(java.sql.Date.valueOf(date));
        fax.setSendNumber(sendNumberValue);
        fax.setSavedNumber(savedNumber);
        fax.setFaxRef(faxRefValue);
        fax.setType(type);
        fax.setState(state);
        fax.setFaxPlaces(faxPlaces);
        fax.setFaxImages(faxImages);

        return fax;
    }

    private StringBuilder validateAddFaxEntryData(String about, String[] tempPlaces, String savedNumber, String sendNumber, String faxRef, String imagePath) {
        StringBuilder errorMessages = new StringBuilder("");
        if (about.isEmpty()) {
            errorMessages.append("أدخل الشأن\n\n");
        }
        if (tempPlaces.length == 0) {
            errorMessages.append("أدخل جهة استلام الفاكس \n\n");
        }
        if (tempPlaces.length == 1 && "".equals(tempPlaces[0])) {
            errorMessages.append("أدخل جهة استلام الفاكس \n\n");
        }
        if (add_date.getDate() == null) {
            errorMessages.append("أدخل التاريخ \n\n");
        }
        if (savedNumber.isEmpty()) {
            errorMessages.append("أدخل رقم الحفظ \n\n");
        }
        if (!sendNumber.isEmpty()) {
            if (!Helper.isNumber(sendNumber)) {
                errorMessages.append("رقم الصادر يجب أن يكون قيمة رقمية\n");
            } else {
                Fax fax = DatabaseFaxOperation.getFaxBySendNumber(Integer.parseInt(sendNumber));
                if (!txt_fax_id.getText().isEmpty()) {

                    if (Integer.parseInt(txt_fax_id.getText()) == 0) {
                        if (fax.getId() != 0) {
                            errorMessages.append("رقم الفاكس موجود بالفعل ادخل فاكس جديد\n");
                        }
                    }
                }
            }
        } else {
            errorMessages.append("أدخل رقم الصادر \n");
        }

        if (!faxRef.isEmpty()) {
            if (!Helper.isNumber(faxRef)) {
                errorMessages.append("رقم فاكس الالحاق يجب أن يكون قيمة رقمية\n\n");
            } else {
                if (Integer.parseInt(faxRef) != 0) {
                    Fax fax = DatabaseFaxOperation.getFaxBySendNumber(Integer.parseInt(faxRef));
                    if (fax.getId() == 0) {
                        errorMessages.append(String.format("لا توجد مكاتبة بالرقم '%s' \n", faxRef));
                    }
                }
            }
        } else {
            errorMessages.append("أدخل رقم فاكس الالحاق \n");
        }

        if (imagePath.isEmpty()) {
            errorMessages.append("اختر صورة\n\n");
        }
        return errorMessages;
    }

    private void showMessage(String messages) {
        JOptionPane.showMessageDialog(this, messages, "تنبيه", JOptionPane.INFORMATION_MESSAGE);
    }

    private void defaultEntryDataFields() {
        txt_about.setText("");
        txt_fax_refer.setText("");
        txt_saved_number.setText("");
        txt_places.setText("");
        rd_send.setSelected(true);
        txt_send_number.setText("");
        txt_fax_id.setText("");
        add_date.setDate(Helper.getCurrentDate());
    }

    private String currentImagePath = "";
    private File[] selectedFiles;
    private String mainDataFolder = "\\\\192.168.1.7\\archive_management\\archive-data\\";

    private JDateChooser search_from;
    private JDateChooser search_to;
    JDateChooser add_date;

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btn_add_edit_user;
    private javax.swing.JButton btn_add_image;
    private javax.swing.JButton btn_advanced_search;
    private javax.swing.JButton btn_choose_image;
    private javax.swing.JButton btn_clear;
    private javax.swing.JButton btn_close;
    private javax.swing.ButtonGroup btn_grp_add_edit_user;
    private javax.swing.ButtonGroup btn_grp_send_recieve;
    private javax.swing.JButton btn_img_print;
    private javax.swing.JButton btn_img_save_all;
    private javax.swing.JButton btn_next_add;
    private javax.swing.JButton btn_next_show;
    private javax.swing.JButton btn_prev_add;
    private javax.swing.JButton btn_prev_show;
    private javax.swing.JButton btn_remove_image;
    private javax.swing.JButton btn_save;
    private javax.swing.JButton btn_search_related;
    private javax.swing.JButton btn_show_add_pnl;
    private javax.swing.JButton btn_show_users;
    private javax.swing.ButtonGroup buttonGroup1;
    private javax.swing.JCheckBox chk_advanced_search;
    private javax.swing.JCheckBox chk_search_fax;
    private javax.swing.JCheckBox chk_search_in;
    private javax.swing.JCheckBox chk_search_out;
    private javax.swing.JCheckBox chk_search_signal;
    private javax.swing.JComboBox<String> cmb_show_side;
    private javax.swing.JComboBox<String> cmp_user_type;
    private javax.swing.JDialog dg_about;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel21;
    private javax.swing.JLabel jLabel22;
    private javax.swing.JLabel jLabel23;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel30;
    private javax.swing.JLabel jLabel32;
    private javax.swing.JLabel jLabel33;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JMenu jMenu1;
    private javax.swing.JMenuItem jMenuItem1;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JScrollPane jScrollPane4;
    private javax.swing.JScrollPane jScrollPane5;
    private javax.swing.JScrollPane jScrollPane6;
    private javax.swing.JPopupMenu.Separator jSeparator2;
    private javax.swing.JTextArea jTextArea1;
    private javax.swing.JLabel lbl_current_img_add;
    private javax.swing.JLabel lbl_current_img_show;
    private javax.swing.JLabel lbl_show_image;
    private javax.swing.JLabel lbl_total_imgs_add;
    private javax.swing.JLabel lbl_total_imgs_show;
    private javax.swing.JMenuBar mn_bar_main;
    private javax.swing.JMenuItem mn_itm_bkp;
    private javax.swing.JMenuItem mn_itm_delete_fax;
    private javax.swing.JMenuItem mn_itm_delete_usr;
    private javax.swing.JMenuItem mn_itm_edit_fax;
    private javax.swing.JMenuItem mn_itm_edit_usr;
    private javax.swing.JMenuItem mn_itm_rst;
    private javax.swing.JMenuItem mn_itm_save_current_img;
    private javax.swing.JMenu mn_settings;
    private javax.swing.JMenuItem mn_sign_out;
    private javax.swing.JPanel pnl_add_actions;
    private javax.swing.JPanel pnl_advanced_search;
    private javax.swing.JPanel pnl_data_actions;
    private javax.swing.JPanel pnl_data_user;
    private javax.swing.JPanel pnl_date_add;
    private javax.swing.JPanel pnl_entry_data;
    private javax.swing.JPanel pnl_fax;
    private javax.swing.JPanel pnl_img;
    private javax.swing.JPanel pnl_img_actions;
    private javax.swing.JPanel pnl_search_date;
    private javax.swing.JPanel pnl_show_data;
    private javax.swing.JPanel pnl_tbl;
    private javax.swing.JPanel pnl_tbl_users;
    private javax.swing.JPanel pnl_user;
    private javax.swing.JPanel pnl_var;
    private javax.swing.JPanel pnl_variable;
    private javax.swing.JPopupMenu pop_mn_fax_mng;
    private javax.swing.JPopupMenu pop_mn_fax_show;
    private javax.swing.JPopupMenu pop_mn_usr_mng;
    private javax.swing.JRadioButton rd_add_user;
    private javax.swing.JRadioButton rd_edit_user;
    private javax.swing.JRadioButton rd_recieve;
    private javax.swing.JRadioButton rd_send;
    private javax.swing.JRadioButton rd_signal_recieve;
    private javax.swing.JRadioButton rd_signal_send;
    private javax.swing.JTabbedPane tab;
    private javax.swing.JTable tbl_data;
    private javax.swing.JTable tbl_data_users;
    private javax.swing.JTextArea txt_about;
    private javax.swing.JTextField txt_fax_id;
    private javax.swing.JTextField txt_fax_refer;
    private javax.swing.JTextArea txt_places;
    private javax.swing.JTextField txt_saved_number;
    private javax.swing.JTextField txt_search;
    private javax.swing.JTextField txt_search_about;
    private javax.swing.JTextField txt_search_number;
    private javax.swing.JTextField txt_search_place;
    private javax.swing.JTextField txt_search_saved_number;
    private javax.swing.JTextField txt_send_number;
    private javax.swing.JTextArea txt_show_about;
    private javax.swing.JTextField txt_show_date;
    private javax.swing.JTextField txt_show_saved_number;
    private javax.swing.JTextField txt_show_send_number;
    private javax.swing.JTextField txt_state;
    private javax.swing.JTextField txt_type;
    private javax.swing.JTextField txt_user_id;
    private javax.swing.JTextField txt_user_password;
    private javax.swing.JTextField txt_user_username;
    // End of variables declaration//GEN-END:variables

}
